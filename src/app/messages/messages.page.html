
<ion-content>

  <div class="list">

    <div class="read-not-container">
      <ion-toolbar color="secondary">
          <ion-title class="ion-text-center">Chats</ion-title>
       </ion-toolbar>
      <div class="messages">
       
        <div class="item" *ngFor = "let message of NamesSorted; let i=index;" (click)="updateMessage(message.uid)" [ngClass]="{'active':  active == i}">
         
          <div class="profile-list">

            <img *ngIf = "!message.image" src="../../assets/person-icon.jpg" alt="">

            <img *ngIf = "message.image" src="{{message.image}}" alt="">
            
          </div>
          <div class="info">
            <p style="font-weight: bolder;">{{message.name}}</p>
            <p>(+27) 74 892 9034</p>
          </div>
         
        </div>
        
        
      </div>
    </div>
   
  

    <div class="content-messages animated slideInUp">
      <ion-toolbar color="light">
        <ion-buttons slot="start">
         <div class="pro-main">
           <div class="profile">
           

            <img *ngIf = "!image" src="../../assets/person-icon.jpg" alt="">

            <img *ngIf = "image" src="{{image}}" alt="">


            </div>
            <div class="names">
              <p style="font-weight: bold;">{{name}}</p>
              <p>{{number}}</p>
            </div>

         </div>
        </ion-buttons>
        <ion-buttons slot="start" *ngIf="messageInfo.message">
          <ion-button  class="hide" fill="clear" color="light" (click)="back()"><ion-icon color="light" name="arrow-back"></ion-icon></ion-button>
        </ion-buttons>
        
    
        <ion-buttons slot="end">
          <ion-button fill="clear" (click)="dismiss()"><ion-icon name="close"></ion-icon></ion-button>
        </ion-buttons>
    
      </ion-toolbar>

        <div class="message-text" #content>
        <!-- <p  *ngIf="messageInfo.message" class="no-selected animated" [ngClass]="{'zoomInLeft': messageInfo.message}">{{messageInfo.message}}</p> -->
          
          <div class="chat" *ngFor="let chat of DisplayMessages; let i=index">

            <div class="user" *ngIf="chat.cmsUid !== null">
              <div class="i_chat">

                <img *ngIf = "!image" src="../../assets/person-icon.jpg" alt="">

                <img *ngIf = "image" src="{{image}}" alt="">


              </div>
              <div class="user-text">
                <div class="inner-text">
                  <p>{{chat.message}}</p>
                </div>
                <div class="time"><p><small>{{chat.time}}</small></p></div>
              </div>
            </div>


            <div class="artist" *ngIf="chat.cmsUid == null">
              <div class="i_chat">
                
                <img *ngIf = "!cmsImage" src="../../assets/person-icon.jpg" alt="">

                <img *ngIf = "cmsImage" src="{{cmsImage}}" alt="">

              </div>
              <div class="artist-text">
                <div class="inner-text">
                  <p>{{chat.message}}</p>
                </div>
                <div class="time">
                  <p><small>{{chat.time}}</small></p>
                </div>
              </div>
            
            </div>


          </div>
         
         


        


        <!-- <div class="no-selected" *ngIf="!messageInfo.message">
          <p>Please select a message card on the left hand side to read</p>
        </div> -->
        </div>
        <ion-toolbar>
          <div class="options">
            <div class="textrear">
              <ion-textarea  placeholder="Type a message"  [(ngModel)]="response" name="" id="" rows="1"></ion-textarea>
            </div>
            <div class="btn-send">
              <ion-button fill="clear" mode="ios" color="success" (click)="Respond()">
                <ion-icon name="send"></ion-icon>
              </ion-button>
            </div>
          
          </div>
        </ion-toolbar>
       
        
  

        
    </div>
  </div>






  
</ion-content>
